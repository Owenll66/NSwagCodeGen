@page "/"

@using ApiClient;
@using static BlazorWasmApp.Pages.FetchData;
@inject MyApiClient MyApiClient;

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<button class="btn btn-primary" @onclick="FetchDataAsync">Click me</button>

@foreach (var weatherForecast in _weatherForecasts)
{
    <div><span>Date: </span>@weatherForecast.Date</div>
    <div><span>TemperatureC: </span>@weatherForecast.TemperatureC</div>
    <div><span>TemperatureF: </span>@weatherForecast.TemperatureF</div>
    <div><span>Summary: </span>@weatherForecast.Summary</div>
}

@code {
    ICollection<ApiClient.WeatherForecast> _weatherForecasts = new List<ApiClient.WeatherForecast>();

    private async Task FetchDataAsync()
    {
        _weatherForecasts = await MyApiClient.GetWeatherAsync();
    }
}
